(function(){"use strict";var t={7545:function(t,e,n){var a=n(144),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("div",{staticClass:"time-picker"},[e("div",{staticClass:"time-picker-header-row"},[e("div",{staticClass:"row-title"},[t._v("星期/时间")]),e("div",[t._m(0),e("div",{staticClass:"time-unit-row"},t._l(t.HOURS,(function(n){return e("div",{key:n,staticClass:"time-unit"},[t._v(" "+t._s(n)+" ")])})),0)])]),t._l(t.rows,(function(n,a){return e("div",{key:a,staticClass:"time-picker-row",on:{mousedown:t.handleStartCheck,mouseup:t.handleEndCheck,mousemove:t.handleCheck}},[e("div",{staticClass:"row-title"},[t._v(t._s(n.title))]),t._l(n.units,(function(t,n){return e("div",{key:`${n},${a}`,class:["row-unit",t.checked?"active":""],attrs:{"data-x":n,"data-y":a}})}))],2)}))],2),e("button",{on:{click:t.getData}},[t._v("获取数据")]),e("button",{on:{click:t.showData}},[t._v("回显数据")])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"time-range"},[e("div",{staticClass:"rang-span"},[t._v("00:00 - 12:00")]),e("div",{staticClass:"rang-span"},[t._v("12:00 - 24:00")])])}];n(7658);const s=[{label:"星期一",value:"monday"},{label:"星期二",value:"tuesday"},{label:"星期三",value:"wednesday"},{label:"星期四",value:"thursday"},{label:"星期五",value:"friday"},{label:"星期六",value:"saturday"},{label:"星期日",value:"sunday"}],c=s.map((t=>t.value)),o=Array.from({length:24},((t,e)=>e)),u=Array.from({length:48},((t,e)=>e)),l=s.map(((t,e)=>({title:t.label,key:t.value,units:u.map(((t,n)=>({checked:!1,position:{x:n,y:e}})))}))),y={checking:!1,target:null,start:null,end:null,type:"check"},h={backLiveType:0,...c.reduce(((t,e)=>(t[e]=[],t)),{})},d={backLiveType:0,monday:[[0,3.5]],tuesday:[[4.5,9],[8.5,14.5]],wednesday:[[7.5,13.5]],thursday:[[0,.5]],friday:[[14,16.5]],saturday:[[23.5,24]],sunday:[[20.5,24]]};var f={name:"App",data(){return{WEEKS:s,HOURS:o,rows:JSON.parse(JSON.stringify(l)),action:{...y}}},methods:{getData(){const t=JSON.parse(JSON.stringify(h));return this.rows.forEach((e=>{const n=e.units,a=t[e.key];let i=[];n.forEach(((t,e)=>{if(t.checked&&i.push(t.position.x),(!t.checked||e===n.length-1)&&i.length){const t=i[0]/2,e=(i[i.length-1]+1)/2;a.push([t,e]),i=[]}}))})),console.log(t),t},showData(){this.rows=JSON.parse(JSON.stringify(l));for(const t in d){const e=c.indexOf(t);if(e>=0){const n=e;d[t].forEach((t=>{const e=2*t[0],a=2*t[1]-1;for(let i=e;i<=a;i++)this.rows[n].units[i].checked=!0}))}}},direction(t,e,n){return t.x>e.x&&t.y>e.y?n.x>=e.x&&n.x<=t.x&&n.y>=e.y&&n.y<=t.y:t.x<e.x&&t.y>e.y?n.x<=e.x&&n.x>=t.x&&n.y>=e.y&&n.y<=t.y:t.x>e.x&&t.y<e.y?n.x>=e.x&&n.x<=t.x&&n.y<=e.y&&n.y>=t.y:t.x<e.x&&t.y<e.y?n.x<=e.x&&n.x>=t.x&&n.y<=e.y&&n.y>=t.y:t.x===e.x&&t.y<e.y?n.x===e.x&&n.x===t.x&&n.y<=e.y&&n.y>=t.y:t.x===e.x&&t.y>e.y?n.x===e.x&&n.x===t.x&&n.y>=e.y&&n.y<=t.y:t.x<e.x&&t.y===e.y?n.x<=e.x&&n.x>=t.x&&n.y===e.y&&n.y===t.y:t.x>e.x&&t.y===e.y?n.x>=e.x&&n.x<=t.x&&n.y===e.y&&n.y===t.y:void 0},handleCheck(t){if(!this.checking)return;if(this.action.target===t.target)return;const e=parseInt(t.target.dataset.x,10),n=parseInt(t.target.dataset.y,10);if(e>=0&&n>=0){this.action.target=t.target;const{start:a}=this.action,i={x:e,y:n};this.rows.forEach((t=>{t.units.forEach((t=>{this.direction(a,i,t.position)&&(t.checked="check"===this.action.type)}))}))}},handleStartCheck(t){const e=parseInt(t.target.dataset.x,10),n=parseInt(t.target.dataset.y,10);e>=0&&n>=0&&(this.action.target=t.target,this.action.start={x:e,y:n},this.rows[n].units[e].checked=!this.rows[n].units[e].checked,this.action.type=this.rows[n].units[e].checked?"check":"uncheck",this.checking=!0)},handleEndCheck(){this.checking=!1}}},x=f,v=n(1001),p=(0,v.Z)(x,i,r,!1,null,"56d246fa",null),k=p.exports;a.ZP.config.productionTip=!1,new a.ZP({render:t=>t(k)}).$mount("#app")}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,a,i,r){if(!a){var s=1/0;for(l=0;l<t.length;l++){a=t[l][0],i=t[l][1],r=t[l][2];for(var c=!0,o=0;o<a.length;o++)(!1&r||s>=r)&&Object.keys(n.O).every((function(t){return n.O[t](a[o])}))?a.splice(o--,1):(c=!1,r<s&&(s=r));if(c){t.splice(l--,1);var u=i();void 0!==u&&(e=u)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[a,i,r]}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,r,s=a[0],c=a[1],o=a[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(i in c)n.o(c,i)&&(n.m[i]=c[i]);if(o)var l=o(n)}for(e&&e(a);u<s.length;u++)r=s[u],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(l)},a=self["webpackChunktimetable"]=self["webpackChunktimetable"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(7545)}));a=n.O(a)})();
//# sourceMappingURL=app.852d3c8a.js.map